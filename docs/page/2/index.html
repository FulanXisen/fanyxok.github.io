<!DOCTYPE html>
<html lang="en" dir="auto">

<head>
	<meta name="generator" content="Hugo 0.120.2"><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>福岚溪森</title>

<meta name="description" content="This is a pure personal blog......">
<meta name="author" content="fanyuxin">
<link rel="canonical" href="https://fanyxok.github.io/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.9cb3367f5e4a5f697c44cbda52b86e66409d5ab9544dea6c3de722558c552e2b.css" integrity="sha256-nLM2f15KX2l8RMvaUrhuZkCdWrlUTepsPeciVYxVLis=" rel="preload stylesheet" as="style">
<link rel="icon" href="https://fanyxok.github.io/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://fanyxok.github.io/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://fanyxok.github.io/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://fanyxok.github.io/apple-touch-icon.png">
<link rel="mask-icon" href="https://fanyxok.github.io/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" type="application/rss+xml" href="https://fanyxok.github.io/index.xml">
<link rel="alternate" type="application/json" href="https://fanyxok.github.io/index.json">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --hljs-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript><head>
    
</head><meta property="og:title" content="福岚溪森" />
<meta property="og:description" content="This is a pure personal blog......" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://fanyxok.github.io/" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="福岚溪森"/>
<meta name="twitter:description" content="This is a pure personal blog......"/>

<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "Organization",
  "name": "福岚溪森",
  "url": "https://fanyxok.github.io",
  "description": "This is a pure personal blog......",
  "thumbnailUrl": "https://fanyxok.github.io/favicon.ico",
  "sameAs": [
      "https://github.com/fanyxok", "xmsszycz@163.com", "index.xml"
  ]
}
</script>
</head>

<body class="list" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://fanyxok.github.io" accesskey="h" title="福岚溪森 (Alt + H)">福岚溪森</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
        </ul>
    </nav>
</header>
<main class="main"> 

<article class="post-entry"> 
  <header class="entry-header">
    <h2>IEEE 745 floating point representation
    </h2>
  </header>
  <div class="entry-content">
    <p>32-bit 表示一个单精度浮点数 float
$V=(-1)^s \times M \times 2^E$ Bit Segments 32-bit 分为3部分： S, E, M
S: 符号位，1bit，0 表示正数， -1 表示负数 E: 指数位，8bit，取值[-127, 128]. M: 尾数位，23bit，取值[0, $2^{23}-1$]. 指数的底固定为2，指数有正数也有负数，但指数部分没有符号位，取一个中间值，小于中间值的表示负数，等于中间值的表示0，大于中间值的表示正数，中间值的定义如下：Bias=$2^{k-1}$-1, k表示E的bit数。实际的E为E-Bias.
尾数部分隐藏了小数点前的1，实际为1.M。M转换为十进制从高位开始计算： $1&#43;b_{22}\times\frac{1}{2}&#43;b_{21}\times\frac{1}{4}&#43;…&#43;b_{0}\times\frac{1}{2^{23}}$
规格化的表示，E不是全0，也不是全1，M任意取值
E全为0时，表示&#43;0.0, -0.0和接近0.0的值
E全为1，M全为0时，表示无穷，符号位区分正无穷和负无穷
E全为1，M不全为0时，表示NaN，不是一个数。</p>
  </div>
  <footer class="entry-footer">&lt;span title=&#39;2022-07-22 10:44:05 &#43;0800 CST&#39;&gt;July 22, 2022&lt;/span&gt;&amp;nbsp;·&amp;nbsp;1 min&amp;nbsp;·&amp;nbsp;fanyuxin</footer>
  <a class="entry-link" aria-label="post link to IEEE 745 floating point representation" href="https://fanyxok.github.io/blog/ieee745/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2>AES对称加密
    </h2>
  </header>
  <div class="entry-content">
    <p>AES 对称密钥加密中最流行的算法之一, 除加密以外还可以用于构建消息认证码, 伪随机函数等密码工具
AES的区块长度固定为128比特，密钥长度则可以是128，192或256比特
分组密码工作模式 使用同一个区块密码密钥对多于一块的数据进行加密
区块密码自身只能加密长度等于密码区块长度的单块数据，若要加密变长数据，则数据必须先被划分为一些单独的密码块
最后一块数据也需要使用合适填充方式将数据扩展到符合密码块大小的长度
一种工作模式描述了加密每一数据块的过程，并常常使用基于一个通常称为初始化向量的附加输入值以进行随机化，以保证安全。
初始化向量IV 许多工作模式中用于将加密随机化的一个位块，由此即使同样的明文被多次加密也会产生不同的密文，避免了较慢的重新产生密钥的过程。
初始化向量与密钥相比有不同的安全性需求，因此IV通常无须保密，然而在大多数情况中，不应当在使用同一密钥的情况下两次使用同一个IV. 对于CBC和CFB，重用IV会导致泄露明文首个块的某些信息，亦包括两个不同消息中相同的前缀。 对于OFB和CTR而言，重用IV会导致完全失去安全性。
在CBC模式中，IV在加密时必须是无法预测的. SSL2.0使用的采用上一个消息的最后一块密文作为下一个消息的IV，是不安全的
Padding ECB和CBC需要最后一块在加密前进行填充
在明文的最后填充空字符以使其长度为块长度的整数倍 在数据后添加一个1位，再添加足够的0位直到满足块长度的要求 添加一个值为128的字节（十六进制的80），再以0字节填满最后一个块 向最后一个块填充n个值均为n的字节 密文窃取 等等 常用模式 电子密码本（ECB） 需要加密的消息按照块密码的块大小被分为数个块，并对每个块进行独立加密。
缺点在于同样的明文块会被加密成相同的密文块；它不能很好的隐藏数据模式。在某些场合，这种方法不能提供严格的数据保密性，因此并不推荐用于密码协议中。
易受到重放攻击的影响，因为每个块是以完全相同的方式解密的.
密码块链接（CBC） 每个明文块先与前一个密文块进行异或后，再进行加密. 为了保证每条消息的唯一性，在第一个块中需要使用初始化向量。
主要缺点在于加密过程是串行的，无法被并行化，而且消息必须被填充到块大小的整数倍。在解密时，从两个邻接的密文块中即可得到一个明文块。因此，解密过程可以被并行化.
填充密码块链接（PCBC） 每个明文块先与前一个明文块和密文块进行异或后再进行加密, 互换两个邻接的密文块不会对后续块的解密造成影响
密文反馈（CFB，Cipher feedback） 类似于CBC，可以将块密码变为自同步的流密码；工作过程亦非常相似，CFB的解密过程几乎就是颠倒的CBC的加密过程
输出反馈模式（Output feedback, OFB） 将块密码变成同步的流密码。它产生密钥流的块，然后将其与明文块进行异或，得到密文。 与其它流密码一样，密文中一个位的翻转会使明文中同样位置的位也产生翻转。这种特性使得许多错误校正码，例如奇偶校验位，即使在加密前计算，而在加密后进行校验也可以得出正确结果。 每个使用OFB的输出块与其前面所有的输出块相关，因此不能并行化处理。然而，由于明文和密文只在最终的异或过程中使用，因此可以事先对IV进行加密，最后并行的将明文或密文进行并行的异或处理。
计数器模式（CTR） CTR模式的特征类似于OFB，但它允许在解密时进行随机存取。由于加密和解密过程均可以进行并行处理，CTR适合运用于多处理器的硬件上。
其他 消息认证码（MAC）通常由块密码得到，例如CBC-MAC（英语：CBC-MAC），OMAC（英语：One-key_MAC）和PMAC（英语：PMAC_(cryptography)）。
认证加密也采用块密码作为其中的一部，其同时使用加密和MAC以提供保密性和数据完整性，例如IAPM（英语：IAPM_(mode)），CCM（英语：CCM_mode），CWC（英语：CWC_mode），EAX（英语：EAX_mode），GCM（英语：Galois/Counter_Mode）和OCB（英语：OCB_mode）。</p>
  </div>
  <footer class="entry-footer">&lt;span title=&#39;2022-07-21 17:31:28 &#43;0800 CST&#39;&gt;July 21, 2022&lt;/span&gt;&amp;nbsp;·&amp;nbsp;1 min&amp;nbsp;·&amp;nbsp;fanyuxin</footer>
  <a class="entry-link" aria-label="post link to AES对称加密" href="https://fanyxok.github.io/blog/aes/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2>My First Post
    </h2>
  </header>
  <div class="entry-content">
    <p>Welcome The first post of hugo
This is a second header The third The fouth Fifty Six? amazing
A math equation: \(c^2 = a^2 &#43; b^2\)
full line equation: $$ e^e = \pi $$
A Table a a b b A complex latex equation $$\begin{array}{cc} a &amp; b \\ c &amp; d \end{array}$$
$$\begin{bmatrix} a &amp; b \newline c &amp; d \end{bmatrix}$$</p>
  </div>
  <footer class="entry-footer">&lt;span title=&#39;2022-07-19 19:03:35 &#43;0800 CST&#39;&gt;July 19, 2022&lt;/span&gt;&amp;nbsp;·&amp;nbsp;1 min&amp;nbsp;·&amp;nbsp;fanyuxin</footer>
  <a class="entry-link" aria-label="post link to My First Post" href="https://fanyxok.github.io/blog/my-first-post/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2>Oblivious Transfer and Cyclic Group
    </h2>
  </header>
  <div class="entry-content">
    <p>Cyclic Group 定义 $$\langle\mathbb{G},q,g \rangle$$
\(\mathbb{G}=\langle \mathbb{Z}_{n}, \cdot \rangle\)
\(\mathbb{Z}_{n} \)是一个集合, {$0$…$n-1$}.
\(\cdot\)是集合中的运算符.
对\(\mathbb{G}\)中的元素$a$进行$k$次幂运算表示为\(a^{k}=a \cdot a …\cdot a\), 即$k$个$a$进行$\cdot$运算.
若群$\mathbb{G}$的每一个元素都是$\mathbb{G}$的某一个固定元素$a$的幂，则称$\mathbb{G}$为循环群.
$q$是$\mathbb{G}$的order, $q$的值等于$\mathbb{G}$中元素的个数, 也记为$|\mathbb{G}|$.
$g$是$\mathbb{G}$的generator(生成元), $\mathbb{G}$中的所有元素都能由$g$通过幂运算生成.
由群$\mathbb{G}$, 阶$q$和生成元$g$, 即可定义一个循环群.
如何寻找一个生成元 如果$\mathbb{G}$有素数阶$p$, 则$\mathbb{G}$中除了identity之外的所有元素都是$\mathbb{G}$的生成元.
如果$p$是素数, 则$\mathbb{Z}_{p}^{*}$是阶为$p-1$的循环群.
假设$\mathbb{G}$阶非素数$p$, 可以均匀的从$\mathbb{G}$中采样元素, 直到这个元素是一个生成元.
$\mathbb{G}$的阶$q$有素数因数$\{p_{i}\}^k_{i=1}$, 检查元素$h$是否为生成元
for $i = 1$ to $k$ : if $h^{q/p_{i}}=1$ return “$h$ is not a generator” return “$h$ is a generator” $\mathbb{G}$有阶$q$,生成元$g$, 则任意一个元素可以表示为$h=g^{x}$.
当gcd($x,q$)=1时, $h$也是$\mathbb{G}$的一个生成元. Oblivious Transfer from Cyclic Group Reference:
More efficient oblivious transfer and extensions for faster secure computation...</p>
  </div>
  <footer class="entry-footer">&lt;span title=&#39;2022-07-19 19:03:35 &#43;0800 CST&#39;&gt;July 19, 2022&lt;/span&gt;&amp;nbsp;·&amp;nbsp;2 min&amp;nbsp;·&amp;nbsp;fanyuxin</footer>
  <a class="entry-link" aria-label="post link to Oblivious Transfer and Cyclic Group" href="https://fanyxok.github.io/blog/otandcylicgroup/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2>
    </h2>
  </header>
  <div class="entry-content">
    <p>SSH to RPI (Ethernet Cable) ssh fanyx@pi.local where pi is the hostname of rpi.
This instruction doesn’t need a address.</p>
  </div>
  <footer class="entry-footer">1 min&amp;nbsp;·&amp;nbsp;fanyuxin</footer>
  <a class="entry-link" aria-label="post link to " href="https://fanyxok.github.io/blog/device-rpi-4b/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2>
    </h2>
  </header>
  <div class="entry-content">
    <p>Linux Kernel Module Programming Guide [TOC]
Easy Begin 内核模块包 编程内核模块首先要安装内核模块包kmod.
sudo apt-get install build-essential kmod 命令行的内核模块相关命令 sudo lsmod # 查看所有加载进内核的模块 sudo cat /proc/modules # 和lsmod有什么不同 sudo modinfo ABC_x.ko # 查看模块ABC的信息 sudo insmod ABC_x.ko # 向内核中加载模块ABC sudo rmmod ABC-x # 从内核中卸载模块ABC, 注意ABC_x.ko名称中的&#39;_&#39;字符会被内核自动替换成&#39;-&#39;字符 sudo journalctl --since &#34;1 hour ago&#34; | grep kernel # 查看过去一小时内的内核日志 编码前须知 版本. 如果编译模块A时include的内核头文件版本与加载模块A的内核版本不一致, 会导致加载失败. 如果必须要这样做, 例如模块A兼容多个内核版本, 需要启用CONFIG_MODVERSIONS编译制导. 命令行. 内核模块无法打印输出到屏幕,但可以记录日志信息然后读取日志信息到屏幕. SecureBoot. SecureBoot是UEFI的一个设置, 要求只会引导安全密钥签名过的模块. [Shell]ERROR: could not insert module. [dmesg]Lockdown: insmod: unsigned module loading is restricted; see man kernel lockdown....</p>
  </div>
  <footer class="entry-footer">9 min&amp;nbsp;·&amp;nbsp;fanyuxin</footer>
  <a class="entry-link" aria-label="post link to " href="https://fanyxok.github.io/blog/linux-kernel-module-programming-guide/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2>A Practical guide to ARM Cortex-M Exception Handling
    </h2>
  </header>
  <div class="entry-content">
    <p>几乎所有嵌入式系统都在某种程度上依赖于处理异步事件的能力。 例如，它从加速度计读取外部传感器数据，以便计算步数 或处理周期性计时器事件以触发RTOS的上下文切换。
在本文中，我们将深入研究ARM Cortex-M 的Exception Model如何支持异步事件的处理。 本文将介绍支持的不同异常类型、术语(NVIC、ISR、Priority)、configuration registers及其常用设置、与Exception有关的Advanced Topic以及一些用C编写的examples。
注意:在大多数情况下，所有Cortex-M处理器(ARMv6-M、ARMv7-M和ARMv8-M体系结构)的异常处理机制是相同的。本文将在下面的相关章节中指出它们的差异。
ARM Exception Model Overview ARM specification将Exception定义为“a condition that changes the normal flow of control in a program” 1.
你会经常看到&#34;Exception&#34;和&#34;Interrupt&#34;交替出现. 在ARM文档中, “Interrupt&#34;用来描述&#34;Exception&#34;的一种. Exception包含以下3部分标识信息:
Exception Number - 表示特定类型Exception的唯一编号(从1开始). 这个编号也用作Vector Table的offset, 这种类型的Exception对应routine的address可以在这里找到. 这样的routine通常被称为Exception Handler或者Interrupt Service Routine (ISR),它是在Exception触发时会被执行的函数. 当Exception被触发时,ARM硬件会自动的从Vector Table中寻找对应的函数指针并执行. Priority Level / Priority Number - 每种Exception都有一个优先级. 大部分exception的Priority Number是可配置的. 反直觉的地方是, 更小的priority number意味着更高的优先级. 所以如果priority level 1的exception和priority level 2的exception同时发生, priority level 1的exception会先被处理. 当本文说一个exception有最高优先级时, 意味着这个exception有最小的Priority Number. 如果两个exception有相同的Priority Number, Exception Number更小的那个会先被处理....</p>
  </div>
  <footer class="entry-footer">21 min&amp;nbsp;·&amp;nbsp;fanyuxin</footer>
  <a class="entry-link" aria-label="post link to A Practical guide to ARM Cortex-M Exception Handling" href="https://fanyxok.github.io/blog/armv-m-exception/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2>ARM Cortex-M RTOS Context Switching
    </h2>
  </header>
  <div class="entry-content">
    <p></p>
  </div>
  <footer class="entry-footer">0 min&amp;nbsp;·&amp;nbsp;fanyuxin</footer>
  <a class="entry-link" aria-label="post link to ARM Cortex-M RTOS Context Switching" href="https://fanyxok.github.io/blog/armv-m-context-switch/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2>Control Bluetooth Device via Bluetoothctl
    </h2>
  </header>
  <div class="entry-content">
    <p>Control a Bluetooth Device via Bluetoothctl 1. Overview In this tutorial, we’ll learn how to connect to a Bluetooth device via the terminal. This process involves configuring our Bluetooth controller, pairing it to our target device, and then finally connecting.
2. Using the bluetoothctl Command BlueZ provides support for Bluetooth functionality and protocols through the bluetoothd daemon. To interact with bluetoothd from the terminal, we use the bluetoothctl command.
Let’s begin by running bluetoothctl without any arguments:...</p>
  </div>
  <footer class="entry-footer">6 min&amp;nbsp;·&amp;nbsp;fanyuxin</footer>
  <a class="entry-link" aria-label="post link to Control Bluetooth Device via Bluetoothctl" href="https://fanyxok.github.io/blog/control-bluetooth-device-via-bluetoothctl/"></a>
</article>
<footer class="page-footer">
  <nav class="pagination">
    <a class="prev" href="https://fanyxok.github.io/">« Prev</a>
  </nav>
</footer>
    </main>
    
<footer class="footer">
    <span>&copy; 2023 <a href="https://fanyxok.github.io">福岚溪森</a></span>
    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
